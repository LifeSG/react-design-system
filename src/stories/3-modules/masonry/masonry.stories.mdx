import { Canvas, Meta, Story, Preview } from "@storybook/addon-docs";
import { Masonry } from "src/components";
import { DemoContainer } from "./doc-elements";
import { StoryContainer } from "../../common/components";

<Meta title="modules/Masonry" />

# Masonry

The component that produces a masonry-tile like layout.

> **Important Note**: This replaces the `MasonryTileGridContainer` and `MasonryTile` components.

<Canvas>
    <Story name="Masonry" withSource="none">
        <StoryContainer>
            <Masonry.Grid numOfCols={{ lg: 3 }}>
                <Masonry.Tile startLg={1} colsLg={1}>
                    <DemoContainer>1</DemoContainer>
                </Masonry.Tile>
                <Masonry.Tile colsLg={2}>
                    <DemoContainer>2</DemoContainer>
                </Masonry.Tile>
                <Masonry.Tile colsLg={3}>
                    <DemoContainer>3</DemoContainer>
                </Masonry.Tile>
                <Masonry.Tile colsLg={2}>
                    <DemoContainer>4</DemoContainer>
                </Masonry.Tile>
                <Masonry.Tile>
                    <DemoContainer>5</DemoContainer>
                </Masonry.Tile>
            </Masonry.Grid>
        </StoryContainer>
    </Story>
</Canvas>

## Usage

The component has 2 sub components:

-   `Masonry.Grid` - This holds the wrapper container and it is used to control the number of columns for the `Masonry`
-   `Masonry.Tile` - This element holds the content for each of the grid item

## Guidelines

While you may specify any number of columns to be present on the `Masonry.Grid`, there are still
some restrictions to ensure that the design principles are met. These restrictions are:

1. Specifying the number of columns for the large layout (`numOfCols.lg`) will not cascade down to the smaller screen sizes (`md` and `sm`)
2. However specifying the number of columns for the smaller layouts will be applied to the larger screen sizes

Here are some of the guidelines for the different layouts:

|                  | Large (`lg`) |  Medium (`md`)   |          Small (`sm`) |
| ---------------- | :----------: | :--------------: | --------------------: |
| Device widths    |   Desktop    | Tablet (<1200px) | Mobile phone (<481px) |
| Default columns  |      -       |        2         |                     1 |
| Maximum columnss |      -       |        -         |                     2 |

## Props

### `Masonry.Grid`

| Name             |                                                                                 Description                                                                                 | Default |
| ---------------- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | ------: |
| **numOfCols**`*` | The number of columns for the different layouts<br />`{ lg: number, md: number, sm: number }`<br /><em>It is not necessary to specify the column count for all layouts</em> |       - |

### `Masonry.Tile`

| Name        |                                                      Description                                                       | Default |
| ----------- | :--------------------------------------------------------------------------------------------------------------------: | ------: |
| **startLg** | The column to start for large layouts. If you intend for it to be on the first column, then specify `1`<br />`number`  |       - |
| **colsLg**  |   The number of columns to span across for large layouts. E.g. Specify `2` to span across 2 columns. <br />`number`    |       - |
| **startMd** | The column to start for medium layouts. If you intend for it to be on the first column, then specify `1`<br />`number` |       - |
| **colsMd**  |   The number of columns to span across for medium layouts. E.g. Specify `2` to span across 2 columns. <br />`number`   |       - |
| **startSm** | The column to start for small layouts. If you intend for it to be on the first column, then specify `1`<br />`number`  |       - |
| **colsSm**  |   The number of columns to span across for small layouts. E.g. Specify `2` to span across 2 columns. <br />`number`    |       - |

## Different media layouts

Here is an example how you can specify the different layouts for different media widths. (Reduce your viewport size to view)

<Preview>
    <StoryContainer>
        <Masonry.Grid numOfCols={{ lg: 4, md: 3, sm: 2 }}>
            <Masonry.Tile startLg={1} colsLg={1}>
                <DemoContainer>1</DemoContainer>
            </Masonry.Tile>
            <Masonry.Tile colsLg={1} colsMd={2}>
                <DemoContainer>2</DemoContainer>
            </Masonry.Tile>
            <Masonry.Tile colsLg={1} colsMd={3}>
                <DemoContainer>3</DemoContainer>
            </Masonry.Tile>
            <Masonry.Tile colsLg={1} colsMd={2}>
                <DemoContainer>4</DemoContainer>
            </Masonry.Tile>
            <Masonry.Tile colsSm={2} colsMd={1} colsLg={2}>
                <DemoContainer>5</DemoContainer>
            </Masonry.Tile>
        </Masonry.Grid>
    </StoryContainer>
</Preview>
