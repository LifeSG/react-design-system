import { Canvas, Meta } from "@storybook/blocks";
import * as AlertStories from "./alert.stories";
import { PropsTable } from "./props-table";

<Meta of={AlertStories} />

# Alert

## Overview

The primary call to action component.

```tsx
import { Alert } from "@lifesg/react-design-system/alert";
```

<Canvas of={AlertStories.Default} />

## With icon

<Canvas of={AlertStories.WithIcon} />

## Advanced styling

If you require text of a bolder weight, you can make use of the `<strong>` tag.

<Canvas of={AlertStories.WithBoldText} />

Or if you require a custom display, you can construct your layout and pass it into the component.

<Canvas of={AlertStories.WithCustomDisplay} />

## With hyperlink

<Canvas of={AlertStories.WithHyperlink} />

## Small size

<Canvas of={AlertStories.SmallSize} />

## With custom icon

<Canvas of={AlertStories.WithCustomIcon} />

## With max collapsed height

You can restrict the height of content by setting `maxCollapsedHeight` to a
desired value in px. This also works with custom content.

<Canvas of={AlertStories.WithMaxCollapsedHeight} />

## Accessibility

By default, the Alert component does not include `role="alert"` to avoid disruptive announcements. You can specify roles explicitly when needed:

```tsx
// For immediate announcement (use sparingly)
<Alert type="error" role="alert">
    Critical error message
</Alert>

// For status updates
<Alert type="info" role="status">
    Information update
</Alert>
```

For dynamic alerts that need to be announced to screen readers (e.g. an alert that appears after the rest of the elements on the page), use an external live region pattern:

```tsx
// Create a visually hidden live region that announces content changes
<div
    id="live-region"
    aria-live="polite"
    aria-atomic="true"
    style={{
        position: "absolute",
        left: "-10000px",
        width: "1px",
        height: "1px",
        overflow: "hidden",
    }}
>
    {alertMessage}
</div>

// Display alerts without automatic announcement
<Alert type="success" showIcon>
    Your data has been saved!
</Alert>
```

<Canvas of={AlertStories.Accessibility} />

## Component API

<PropsTable />
