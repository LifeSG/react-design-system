import { Canvas, Meta } from "@storybook/blocks";
import * as ButtonWithIconStories from "./button-with-icon.stories";
import { PropsTable } from "./props-table";

<Meta of={ButtonWithIconStories} />

# ButtonWithIcon

## Overview

The primary call to action component with an icon.

```tsx
import { ButtonWithIcon } from "@lifesg/react-design-system/button-with-icon";
```

The `ButtonWithIcon` component comes in 2 sizes, a default and small size.

<Canvas of={ButtonWithIconStories.Default} />

By default, the icon will be rendered on the left of the component.
You can also indicate to render on the right using the `iconPosition` prop.

<Canvas of={ButtonWithIconStories.RightPositioned} />

## Danger

In some cases, when there is a requirement to display an enhanced display for
destructive or important actions, you can make use of the `danger` prop which will
apply a red scheme over the buttons.

<Canvas of={ButtonWithIconStories.Danger} />

## Loading

<Canvas of={ButtonWithIconStories.LoadingState} />

## Accessibility

By default, a disabled `<button>` cannot receive focus or events. In certain
modes across screen readers, it is excluded from the focus order, which can make
detecting its presence more difficult.

To keep the disabled button focusable, specify `focusableWhenDisabled`. The
`onClick` callback is not invoked when the user attempts to click on the button.

There are some caveats:

-   Other event listeners such as `onKeyDown`, `onTouchStart` remain triggered
-   `onClick` events still bubble to ancestors

<Canvas of={ButtonWithIconStories.FocusableWhenDisabled} />

For best results, check the `disabled` state in your application.

```tsx
const Page = () => {
    const [disabled, setDisabled] = useState(false);

    return (
        <div
            onClick={() => {
                if (disabled) return;
                // application logic here
            }}
        >
            <ButtonWithIcon.Default
                icon={<PlaceholderIcon />}
                disabled={disabled}
            >
                Add to cart
            </ButtonWithIcon.Default>
        </div>
    );
};
```

## Component API

<PropsTable />
