import { Canvas, Meta, Preview, Story } from "@storybook/addon-docs";
import { useState } from "react";
import { Alert } from "src/alert";
import { Text } from "src/text";
import { ErrorDisplay } from "src/error-display";
import {
    Heading3,
    Heading4,
    PreviewBox,
    Secondary,
    StoryContainer,
    Title,
} from "../storybook-common";
import { PropsTable } from "./props-table";

<Meta title="Modules/ErrorDisplay" component={ErrorDisplay} />

<Title>ErrorDisplay</Title>

<Secondary>Overview</Secondary>

A component that displays an error or issue that has occurred.

```tsx
import { ErrorDisplay } from "@lifesg/react-design-system/error-display";
```

<Canvas>
    <Story name="ErrorDisplay">
        <ErrorDisplay type="404" />
    </Story>
</Canvas>

<Secondary>Other usages</Secondary>

<Heading3>With action button</Heading3>

You can also add an action button to be present in the `ErrorDisplay`. The action button will
appear at the bottom of the component.

<Preview>
    <Story name="With action button">
        <ErrorDisplay
            type="unsupported-browser"
            actionButton={{
                children: "Continue anyway",
                onClick: () => {
                    alert("Clicked on continue button");
                },
            }}
        />
    </Story>
</Preview>

<Heading3>Customisation</Heading3>

The `ErrorDisplay` component is customisable according to your project's needs. Customisation includes

-   image
-   title
-   description

<Preview>
    <Story name="Custom error">
        <ErrorDisplay
            type="404"
            title="My Custom 404"
            description={
                <>
                    You can pass a <strong>JSX component</strong> here as well
                </>
            }
        />
    </Story>
</Preview>

<Secondary>Variants</Secondary>

> **Note**: Switch to the Canvas tab and use the Controls add-on to view the different error types

<Canvas>
    <Story
        name="Variants"
        parameters={{
            controls: {
                disabled: false,
                exclude: /^((?!(type)).)*$/,
            },
        }}
        argTypes={{
            type: {
                defaultValue: "400",
            },
        }}
    >
        {(args) => {
            return <ErrorDisplay {...args} />;
        }}
    </Story>
</Canvas>

<Secondary>Component API</Secondary>

<PropsTable />
