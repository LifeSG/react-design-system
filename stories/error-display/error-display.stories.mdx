import { Canvas, Meta, Preview, Story } from "@storybook/addon-docs";
import { useState } from "react";
import { Alert } from "src/alert";
import { Text } from "src/text";
import { ErrorDisplay } from "src/error-display";
import {
    Heading3,
    Heading4,
    PreviewBox,
    Secondary,
    StoryContainer,
    Title,
} from "../storybook-common";
import { PropsTable } from "./props-table";

<Meta title="Modules/ErrorDisplay" component={ErrorDisplay} />

<Title>ErrorDisplay</Title>

<Secondary>Overview</Secondary>

A component that displays an error or issue that has occurred.

```tsx
import { ErrorDisplay } from "@lifesg/react-design-system/error-display";
```

<Canvas>
    <Story name="ErrorDisplay">
        <ErrorDisplay type="404" />
    </Story>
</Canvas>

<Secondary>Other usages</Secondary>

<Heading3>With action button</Heading3>

You can also add an action button to be present in the `ErrorDisplay`. The action button will
appear at the bottom of the component.

<Preview>
    <Story name="With action button">
        <ErrorDisplay
            type="unsupported-browser"
            actionButton={{
                children: "Continue anyway",
                onClick: () => {
                    alert("Clicked on continue button");
                },
            }}
        />
    </Story>
</Preview>

<Heading3>Customisation</Heading3>

The `ErrorDisplay` component is customisable according to your project's needs. Customisation includes

-   image
-   title
-   description

<Preview>
    <Story name="Custom error">
        <ErrorDisplay
            type="404"
            title="My Custom 404"
            description={
                <>
                    You can pass a <strong>JSX component</strong> here as well
                </>
            }
        />
    </Story>
</Preview>

<Heading3>See also</Heading3>

[Variants](#variants) | [Component API](#component-api)

<br />

<a id="variants-top"></a>

<Secondary>Variants</Secondary>

[400 Bad request](#error-400) |
[403 Forbidden](#error-403) |
[404 Not found](#error-404) |
[408 Request timeout](#error-408)<br />
[500 Internal server error](#error-500) |
[502 Bad gateway](#error-502) |
[503 Service unavailable](#error-503) |
[504 Gateway timeout](#error-504)<br />
[Confirmation](#confirmation) |
[Inactivity](#inactivity) |
[Insufficient credit](#insufficient-credit) |
[Link error](#link-error) |
[Logout](#logout) |
[Maintenance](#maintenance) |
[No Item Found](#no-item-found) |
[Partially supported browser](#partially-supported-browser) |
[Payment unsuccessful](#payment-unsuccessful) |
[Transfer unsuccessful](#transfer-unsuccessful) |
[Unsupported browser](#unsupported-browser) |
[Warning](#warning)

<!-- 400 -->

<a id="error-400"></a>

<Heading3>400 Bad request</Heading3>

This is used to display when the page received a bad request.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="400 Error">
        <ErrorDisplay type="400" />
    </Story>
</Preview>

<!-- 403 -->

<a id="error-403"></a>

<Heading3>403 Forbidden</Heading3>

This is used to display when the page is forbidden to the user.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="403 Error">
        <ErrorDisplay type="403" />
    </Story>
</Preview>

<!-- 404 -->

<a id="error-404"></a>

<Heading3>404 Not found</Heading3>

This is used to display when the page is not found.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="404 Error">
        <ErrorDisplay type="404" />
    </Story>
</Preview>

<!-- 408 -->

<a id="error-408"></a>

<Heading3>408 Request timeout</Heading3>

This is used to display when the page request has timeout.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="408 Error">
        <ErrorDisplay type="408" />
    </Story>
</Preview>

<!-- 500 -->

<a id="error-500"></a>

<Heading3>500 Internal server error</Heading3>

This is used to display when an internal server error is encountered.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="500 Error">
        <ErrorDisplay type="500" />
    </Story>
</Preview>

<!-- 502 -->

<a id="error-502"></a>

<Heading3>502 Bad Gateway</Heading3>

This is used to display when an internal server error is encountered.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="502 Error">
        <ErrorDisplay type="502" />
    </Story>
</Preview>

<!-- 503 -->

<a id="error-503"></a>

<Heading3>503 Service unavailable</Heading3>

This is used to display when the service is unavailable/unreachable.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="503 Error">
        <ErrorDisplay type="503" />
    </Story>
</Preview>

<!-- 504 -->

<a id="error-504"></a>

<Heading3>504 Gateway Timeout</Heading3>

This is used to display when the server is unavailable/unreachable.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="504 Error">
        <ErrorDisplay type="504" />
    </Story>
</Preview>

<!-- CONFIRMATION -->

<a id="confirmation"></a>

<Heading3>Confirmation</Heading3>

This is used to display when the user want to exit the form and lost their updates.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Confirmation">
        <ErrorDisplay type="confirmation" />
    </Story>
</Preview>

<!-- INACTIVITY STATE -->

<a id="inactivity"></a>

<Heading3>Inactivity State</Heading3>

This is used to display when user has been inactive for a certain period of time.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Inactivity State">
        <ErrorDisplay type="inactivity" />
    </Story>
</Preview>

<!-- INSUFFICIENT CREDIT -->

<a id="insufficient-credits"></a>

<Heading3>Insufficient Credit</Heading3>

This is used to display when user has insufficient credits for a transaction.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Insufficient Credits">
        <ErrorDisplay type="insufficient-credits" />
    </Story>
</Preview>

<!-- LINK ERROR -->

<a id="link-error"></a>

<Heading3>Link Error</Heading3>

This is used to display when a link is expired.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Link Error">
        <ErrorDisplay type="link-error" />
    </Story>
</Preview>

<!-- LOGOUT -->

<a id="logout"></a>

<Heading3>Logout</Heading3>

This is used to display when user has been inactive for a certain period of time.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Logout">
        <ErrorDisplay type="logout" />
    </Story>
</Preview>

<!-- WARNING -->

<a id="warning"></a>

<Heading3>Warning</Heading3>

This is shown when the browser getting generic warning and error state.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Warning">
        <ErrorDisplay type="warning" />
    </Story>
</Preview>

<!-- MAINTENANCE -->

<a id="maintenance"></a>

<Heading3>Maintenance</Heading3>

The maintenance error accepts an additional prop `dateString` which allows the rendering of the
end date of the maintenance. If the prop is not provided, it will default to a general message
(similar to a [503 error](#error-503))

> Note: the additional props will take precedence over `description` for this error type

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Maintenance">
        <ErrorDisplay
            type="maintenance"
            additionalProps={{ dateString: "12 July 2022" }}
        />
    </Story>
</Preview>

<!-- NO ITEM FOUND -->

<a id="no-item-found"></a>

<Heading3>No Item Found </Heading3>

This is used to display when no items can be found for a particular feature.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="No Item Found ">
        <ErrorDisplay type="no-item-found" />
    </Story>
</Preview>

<!-- PAYMENT UNSUCCESSFUL -->

<a id="payment-unsuccessful"></a>

<Heading3>Payment Unsuccessful</Heading3>

This is used to display when userâ€™s payment transaction is unsuccessful.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Payment Unsuccessful">
        <ErrorDisplay type="payment-unsuccessful" />
    </Story>
</Preview>

<!-- TRANSFER UNSUCCESSFUL -->

<a id="transfer-unsuccessful"></a>

<Heading3>Transfer Unsuccessful</Heading3>

This is shown when user is unsuccessful in transferring credits.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Transfer Unsuccessful">
        <ErrorDisplay type="transfer-unsuccessful" />
    </Story>
</Preview>

<!-- UNSUPPORTED BROWSER -->

<a id="unsupported-browser"></a>

<Heading3>Unsupported browser</Heading3>

This is shown when the browser is of an unsupported version.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Unsupported Browser">
        <ErrorDisplay type="unsupported-browser" />
    </Story>
</Preview>

<!-- PARTIALLY SUPPORTED BROWSER -->

<a id="partially-supported-browser"></a>

<Heading3>Partially supported browser</Heading3>

This is shown when the browser is of a partially supported version.

[Back to see all variants](#variants-top)

<Preview>
    <Story name="Partially supported Browser">
        <ErrorDisplay type="partially-supported-browser" />
    </Story>
</Preview>

<Secondary>Component API</Secondary>

<PropsTable />
