import { Canvas, Meta } from "@storybook/addon-docs/blocks";
import * as IconButtonStories from "./icon-button.stories";
import { PropsTable } from "./props-table";

<Meta of={IconButtonStories} />

# Icon Button

## Overview

A call to action component with an icon in it.

```tsx
import { IconButton } from "@lifesg/react-design-system/icon-button";
```

<Canvas of={IconButtonStories.Default} />

## Variations

The `IconButton` component comes in 3 sizes, a large, small and default size.

<Canvas of={IconButtonStories.Variations} />

## Using custom components

You can also pass in custom components to the `IconButton`. In this example, we will pass in an image.

<Canvas of={IconButtonStories.CustomComponents} />

## Accessibility

### Accessible name

Make sure that the button function is clearly communicated to screen reader
users by providing an accessible name.

A common approach is to set `aria-label` for an svg-based icon or `alt` on an
image.

```tsx
<IconButton>
    <svg aria-label="Delete item" />
</IconButton>

<IconButton>
    <img alt="Delete item" src="..." />
</IconButton>
```

### Focus

By default, a disabled `<IconButton>` cannot receive focus or events. In certain
modes across screen readers, it is excluded from the focus order, which can make
detecting its presence more difficult.

To keep the disabled button focusable, specify `focusableWhenDisabled`. The
`onClick` callback is not invoked when the user attempts to click on the button.

There are some caveats:

-   Other event listeners such as `onKeyDown`, `onTouchStart` remain triggered
-   `onClick` events still bubble to ancestors

<Canvas of={IconButtonStories.FocusableWhenDisabled} />

For best results, check the `disabled` state in your application.

```tsx
const Page = () => {
    const [disabled, setDisabled] = useState(false);

    return (
        <div
            onClick={() => {
                if (disabled) return;
                // application logic here
            }}
        >
            <IconButton disabled={disabled}>
                <BoxIcon aria-label="Archive item" />
            </IconButton>
        </div>
    );
};
```

## Component API

<PropsTable />
