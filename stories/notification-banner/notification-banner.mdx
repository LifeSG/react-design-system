import { Canvas, Meta, Unstyled } from "@storybook/blocks";
import { Text } from "src/text";
import {
    Heading3,
    Heading4,
    PreviewBox,
    Secondary,
    Title,
} from "../storybook-common";
import * as NotificationBannerStories from "./notification-banner.stories";
import { HOCElement, StyledContent } from "./doc-elements";
import { PropsTable } from "./props-table";

<Meta of={NotificationBannerStories} />

<Title>NotificationBanner</Title>

<Secondary>Overview</Secondary>

A component that remains sticky at the top of the page and provides the user of important notification or notices.

```tsx
import { NotificationBanner } from "@lifesg/react-design-system/notification-banner";
```

<Canvas of={NotificationBannerStories.Default} />

<Secondary>Other usages</Secondary>

<Heading3>Non sticky banner</Heading3>

The `NotificationBanner` is sticky by default. To make it non sticky, you can just specify `false` on the `sticky`
property.

<Canvas of={NotificationBannerStories.NonSticky} />

<Heading3>Non dismissible banner</Heading3>

<Canvas of={NotificationBannerStories.NonDismissible} />

<Heading3>Text styling options</Heading3>

The banner also supports customisation of the text styles. Here is how you can achieve it.

> Note: For external links, you will need to use the `NotificationBanner.Link` component to have the icon displayed

<Canvas of={NotificationBannerStories.TextStylingOptions} />

<Heading3>Custom content</Heading3>

The `NotificationBanner` also allows custom content to be displayed.

<Canvas of={NotificationBannerStories.CustomContent} />

<Heading3>On Click</Heading3>

The `NotificationBanner` allows performing of an action when clicked.

<Canvas of={NotificationBannerStories.OnClick} />

<Heading3>With collapsed height setting</Heading3>

You can restrict the height of the `NotificationBanner` by setting the `collapsedHeight` to a
desired value in px.

<Canvas of={NotificationBannerStories.CollapsedHeight} />

<Secondary>Using as a Higher Order Component (HOC)</Secondary>

You can also specify the contents of the `NotificationBanner` via the provided
HOC. This can be especially useful if the contents of the banner are coming
from an external source or backend system. The input type is an array of
properties.

<Unstyled>
    <PreviewBox>
        <div
            style={{
                position: "relative",
                paddingTop: "1.5rem",
            }}
        >
            <HOCElement dismissible={false} />
            <StyledContent>
                <Text.Body paragraph>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed
                    do eiusmod tempor incididunt ut labore et dolore magna
                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                    ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    Duis aute irure dolor in reprehenderit in voluptate velit
                    esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
                    occaecat cupidatat non proident, sunt in culpa qui officia
                    deserunt mollit anim id est laborum.
                </Text.Body>
            </StyledContent>
        </div>
    </PreviewBox>
</Unstyled>

<Heading4>Step 1: Specify the HOC element</Heading4>

For usage of different elements, you will have to specify in an array format.

```tsx
import { withNotificationBanner } from "@lifesg/react-design-system/notification-banner";

const HOCElement = withNotificationBanner([
    {
        type: "text",
        content: "This is rendered using the HOC, and it contains a&nbsp;",
    },
    {
        type: "link",
        content: "hyperlink",
        otherAttributes: {
            href: "https://www.google.com",
            external: true,
            target: "_blank",
        },
    },
    {
        type: "text",
        content:
            "&nbsp;and text with styles like <strong>bold</strong> and <em>italics</em>.",
    },
]);
```

<Heading4>Step 2: Use the HOC element</Heading4>

```tsx
const MainRender = () => {
    return (
        <StyledContainer>
            <HOCElement dismissable={false} />
            other content renders...
        </StyledContainer>
    );
};
```

<Secondary>Component API</Secondary>

<PropsTable />
