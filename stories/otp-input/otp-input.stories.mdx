import { Canvas, Meta, Preview, Story } from "@storybook/addon-docs";
import { OtpInput } from "src/otp-input";
import {
    Heading3,
    Secondary,
    StoryContainer,
    Title,
} from "../storybook-common";
import { Container, Label } from "./doc-elements";
import { PropsTable } from "./props-table";

<Meta title="Modules/OtpInput" component={OtpInput} />

<Title>OtpInput</Title>

<Secondary>Overview</Secondary>

An otp input component for multifactor authentication display.

```tsx
import { OtpInput } from "@lifesg/react-design-system/otp-input";
```

<Canvas>
    <Story name="OtpInput">
        <StoryContainer>
            <Container>
                <Label weight="semibold">This is the default state</Label>
                <OtpInput
                    numOfInput={6}
                    cooldownDuration={60}
                    onChange={(value) =>
                        console.log("Entered OTP Value: ", value)
                    }
                    actionButtonProps={{
                        onClick: () => {
                            console.log("Resend OTP Clicked!");
                        },
                    }}
                />
                <br />
                <br />
                <Label weight="semibold">This is the error state</Label>
                <OtpInput
                    numOfInput={6}
                    cooldownDuration={60}
                    errorMessage="Invalid otp. Try again."
                    onChange={(value) =>
                        console.log("Entered OTP Value: ", value)
                    }
                    actionButtonProps={{
                        onClick: () => {
                            console.log("Resend OTP Clicked!");
                        },
                    }}
                />
            </Container>
        </StoryContainer>
    </Story>
</Canvas>

<Secondary>Other usages</Secondary>

<Heading3>Custom Action Button</Heading3>

You can also specify a custom action button that will appear on OtpInput.

<Preview>
    <Story name="With custom action button">
        <StoryContainer>
            <Container>
                <OtpInput
                    numOfInput={4}
                    cooldownDuration={0}
                    onChange={(value) =>
                        console.log("Entered OTP Value: ", value)
                    }
                    actionButtonProps={{
                        styleType: "light",
                        children: "with custom label",
                        onClick: () => {
                            console.log("Resend OTP Clicked!");
                        },
                    }}
                />
            </Container>
        </StoryContainer>
    </Story>
</Preview>

<br />

<Secondary>Component API</Secondary>

<PropsTable />
