import { Canvas, Meta, Story } from "@storybook/addon-docs";
import { useState } from "react";
import { Tab } from "src/tab";
import { Text } from "src/text";
import { Secondary, Heading3, Title } from "../storybook-common";
import { Content } from "./doc-elements";
import { PropsTable } from "./props-table";

<Meta title="Modules/Tab" component={Tab} parameters={{ layout: "default" }} />

<Title>Tab</Title>

<Secondary>Overview</Secondary>

Used to organise content into multiple panes. Users can toggle between the different tabs to view different categories of information.

```tsx
import { Tab } from "@lifesg/react-design-system/tab";
```

<Canvas>
    <Story name="Tab">
        <Tab>
            <Tab.Item key={1} title="Section A">
                <Content>
                    <Text.H1>Section A</Text.H1>
                    <br />
                    <Text.Body>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                        Nullam commodo eget turpis sit amet luctus. Duis
                        fringilla, libero ac eleifend vehicula, sem arcu mattis
                        diam, eget pellentesque urna libero feugiat sem.
                    </Text.Body>
                </Content>
            </Tab.Item>
            <Tab.Item key={2} title="Section B">
                <Content>
                    <Text.H1>Section B</Text.H1>
                    <br />
                    <Text.Body>
                        Donec metus augue, vulputate ut laoreet pretium, cursus
                        sed odio. Aenean imperdiet sapien nec lectus gravida,
                        vitae tincidunt sem feugiat. Nullam sit amet tortor
                        purus. Sed eget nulla sapien. Proin a lacus
                        pellentesque, facilisis augue quis, vestibulum sem.
                    </Text.Body>
                </Content>
            </Tab.Item>
            <Tab.Item key={3} title="Section C">
                <Content>
                    <Text.H1>Section C</Text.H1>
                    <br />
                    <Text.Body>
                        Maecenas tempor dolor sit amet turpis interdum
                        convallis. Nunc ut elit vitae justo placerat vulputate.
                        Mauris varius sem in lectus vestibulum, sed porttitor
                        nisi ultricies. Morbi quis commodo ipsum.
                    </Text.Body>
                </Content>
            </Tab.Item>
            <Tab.Item key={4} title="Section D">
                <Content>
                    <Text.H1>Section D</Text.H1>
                    <br />
                    <Text.Body>
                        Nullam sit amet tortor purus. Sed eget nulla sapien.
                        Proin a lacus pellentesque, facilisis augue quis,
                        vestibulum sem. Nulla pretium gravida consectetur.
                        Curabitur vestibulum erat nisi. Proin et accumsan purus.
                        Donec blandit tortor risus, vitae tempus magna egestas
                        nec.
                    </Text.Body>
                </Content>
            </Tab.Item>
        </Tab>
    </Story>
</Canvas>

<Secondary>Anatomy</Secondary>

The `Tab` component comprises of 2 components:

-   `Tab` which is the main component that will come with the selectors and controls the contents to be displayed
-   `Tab.Item` is the component that will be used to wrap the contents of each tab item

<br />

<Secondary>Handling longer tab labels</Secondary>

It is important to note that on tablet and mobile viewports, anything more than 20 characters will be truncated
to ensure that all tab items are accessible within a few scrolls. Here is an example:

<Canvas>
    <Story name="With longer labels">
        <Tab>
            <Tab.Item
                key={1}
                title="This is a significantly longer label that will truncate"
            >
                <Content>
                    <Text.H1>Section A</Text.H1>
                    <br />
                    <Text.Body>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit.
                        Nullam commodo eget turpis sit amet luctus. Duis
                        fringilla, libero ac eleifend vehicula, sem arcu mattis
                        diam, eget pellentesque urna libero feugiat sem.
                    </Text.Body>
                </Content>
            </Tab.Item>
            <Tab.Item key={2} title="Shorter label">
                <Content>
                    <Text.H1>Section B</Text.H1>
                    <br />
                    <Text.Body>
                        Donec metus augue, vulputate ut laoreet pretium, cursus
                        sed odio. Aenean imperdiet sapien nec lectus gravida,
                        vitae tincidunt sem feugiat. Nullam sit amet tortor
                        purus. Sed eget nulla sapien. Proin a lacus
                        pellentesque, facilisis augue quis, vestibulum sem.
                    </Text.Body>
                </Content>
            </Tab.Item>
            <Tab.Item key={3} title="Section C">
                <Content>
                    <Text.H1>Section C</Text.H1>
                    <br />
                    <Text.Body>
                        Maecenas tempor dolor sit amet turpis interdum
                        convallis. Nunc ut elit vitae justo placerat vulputate.
                        Mauris varius sem in lectus vestibulum, sed porttitor
                        nisi ultricies. Morbi quis commodo ipsum.
                    </Text.Body>
                </Content>
            </Tab.Item>
        </Tab>
    </Story>
</Canvas>

<Secondary>Controlled mode</Secondary>

While the `Tab` handles the rendering logic, upon each tab click, automatically, it also
offers the ability to control the behaviour entirely yourself. You can set the
`tabItemRenderMode` to `"controlled"` and you will have full control of how the tab items
are rendered. Here is a simple example where we control the state on our own.

<Canvas>
    <Story name="Controlled mode">
        {() => {
            const [currentIndex, setCurrentIndex] = useState(0);
            const handleTabClick = (title, order) => {
                setCurrentIndex(order);
            };
            return (
                <Tab tabItemRenderMode="controlled" onTabClick={handleTabClick}>
                    <Tab.Item
                        key={1}
                        title="Section A"
                        show={currentIndex === 0}
                    >
                        <Content>
                            <Text.H1>Section A</Text.H1>
                            <br />
                            <Text.Body>
                                Lorem ipsum dolor sit amet, consectetur
                                adipiscing elit. Nullam commodo eget turpis sit
                                amet luctus. Duis fringilla, libero ac eleifend
                                vehicula, sem arcu mattis diam, eget
                                pellentesque urna libero feugiat sem.
                            </Text.Body>
                        </Content>
                    </Tab.Item>
                    <Tab.Item
                        key={2}
                        title="Section B"
                        show={currentIndex === 1}
                    >
                        <Content>
                            <Text.H1>Section B</Text.H1>
                            <br />
                            <Text.Body>
                                Donec metus augue, vulputate ut laoreet pretium,
                                cursus sed odio. Aenean imperdiet sapien nec
                                lectus gravida, vitae tincidunt sem feugiat.
                                Nullam sit amet tortor purus. Sed eget nulla
                                sapien. Proin a lacus pellentesque, facilisis
                                augue quis, vestibulum sem.
                            </Text.Body>
                        </Content>
                    </Tab.Item>
                    <Tab.Item
                        key={3}
                        title="Section C"
                        show={currentIndex === 2}
                    >
                        <Content>
                            <Text.H1>Section C</Text.H1>
                            <br />
                            <Text.Body>
                                Maecenas tempor dolor sit amet turpis interdum
                                convallis. Nunc ut elit vitae justo placerat
                                vulputate. Mauris varius sem in lectus
                                vestibulum, sed porttitor nisi ultricies. Morbi
                                quis commodo ipsum.
                            </Text.Body>
                        </Content>
                    </Tab.Item>
                </Tab>
            );
        }}
    </Story>
</Canvas>

<Secondary>Component API</Secondary>

<PropsTable />
