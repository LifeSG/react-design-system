import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import * as TimeSlotStories from "./timeslot.stories";
import { PropsTable } from "./props-table";

<Meta of={TimeSlotStories} />

# TimeSlot

A comprehensive calendar component that supports day and week views with time slots for appointment scheduling and resource management.

## Usage

```jsx
import { TimeSlot } from "src/timeslot";

<TimeSlot
    date="2025-07-22"
    data-id="timeslot"
    view="day"
    minTime="00:00"
    maxTime="23:59"
    initialScrollTime="08:00"
    rowData={data}
    loading={loading}
    onNextDayClick={onNextDayClick}
    onPreviousDayClick={onPreviousDayClick}
    onTodayClick={onTodayClick}
    onSlotClick={onSlotClick}
    onCalendarDateSelect={onCalendarDateSelect}
/>;
```

## Examples

### Default Day View

<Canvas of={TimeSlotStories.Default} />

### Week View

<Canvas of={TimeSlotStories.WeekView} />

### Loading State

<Canvas of={TimeSlotStories.Loading} />

### Empty State

<Canvas of={TimeSlotStories.Empty} />

## Data Structure

The TimeSlot component expects data in the following format. For detailed prop descriptions, see the [Component API](#component-api) section below.

```typescript
interface TimeSlotRowData {
    id?: string;
    name: string; // Service/resource name
    rowCells: TimeSlotRowCellData[];
    onRowNameClick?: (rowData: TimeSlotRowData, e: React.MouseEvent) => void;
}

interface TimeSlotRowCellData {
    id?: string;
    date: string; // YYYY-MM-DD format
    startTime: string; // HH:mm format
    endTime: string; // HH:mm format
    status: "available" | "booked" | "blocked" | "pending";
    booked?: number; // Number of bookings
    capacity?: number; // Total capacity
    customPopover?: TimeSlotPopoverProps;
    onClick?: (data: TimeSlotRowCellData, e: React.MouseEvent) => void;
}
```

On mobile devices (screen width < 768px):

-   Only day view is available
-   Today button is hidden
-   Navigation arrows appear for switching between services
-   Single service view with centered title and description

## Component API

<PropsTable />
