import { Canvas, Meta } from "@storybook/blocks";
import { Alert } from "src/alert";
import * as TimeTableStories from "./timetable.stories";
import { PropsTable } from "./props-table";

<Meta of={TimeTableStories} />

# TimeTable

<Alert type="warning">
    This component is still a work in progress. The UI and props are subject to
    change.
</Alert>

## Overview

A component that displays a timetable to view a schedule for a specific day

```tsx
import { TimeTable } from "@lifesg/react-design-system/timetable";
```

> This component auto generates blocked cells based on the difference in
> start/end time between each row and the overall timetable, and disabled cells
> when there are missing gaps between each row cell's start/end time.

<Canvas of={TimeTableStories.Default} />

## Date navigation

Date navigational arrows can be interacted with when `onNextDayClick` and
`onPreviousDayClick` props are passed in.

You may use `minDate` and `maxDate` to limit the range of date navigation

_(In this example, the user can only view the timetable 2 days before today and
2 days after today)_

<Canvas of={TimeTableStories.DateNavigation} />

## Lazy loading

Optional `onRefresh` and `totalRecords` props can also be passed in to show the
total count and for refreshing results.

This is especially useful when lazy loading is enabled through the `onPage`
callback.

<Canvas of={TimeTableStories.LazyLoading} />

## Custom popovers

Custom popovers can be added onto row header names and row cells. There is also
the flexibility to have custom popovers on auto generated blocked cells through
the `outOfRangeCellPopover` prop.

However, auto generated disabled cells will not have any popover interaction.

Do note that if the custom popover trigger is set to click, it could conflict
with the onClick callback for each cell.

<Canvas of={TimeTableStories.CustomPopovers} />

## No results found

`emptyContent` can be passed in to control what to show when there are no
results to display.

<Canvas of={TimeTableStories.EmptyContent} />

## Component API

<PropsTable />
